{% load static %}
{% load notifications_tags %}

<div class="nav-item dropdown d-none d-md-flex me-3">
    <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1"
       aria-label="Show notifications">

        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
             viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
             stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"/>
            <path d="M9 17v1a3 3 0 0 0 6 0v-1"/>
        </svg>

        {% notifications_unread as unread_count %}
        {% if unread_count %}
            <span class="badge bg-red">{{ unread_count }}</span>
        {% endif %}

    </a>

    <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card" style="overflow: auto;max-height: 600px;">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h3 class="card-title mb-0">
                    Last updates
                </h3>

                {# TODO: notifications issue - like it doesn't loads all the notifications #}
                {% if unread_count %}
                    <button class="btn btn-sm rounded text-secondary p-2" onclick="unread_all_notifications()">
                        <i class="fa fa-paint-brush"></i> clear
                    </button>
                {% endif %}
            </div>
            <div class="list-group list-group-flush list-group-hoverable" id="notify_me_now">
            </div>
        </div>
    </div>
</div>